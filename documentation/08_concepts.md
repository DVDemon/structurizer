## Сквозные аспекты

<!-- В этом разделе описываются общие, основные положения и идеи решений которые относятся к нескольким частям вашей системы.
Такие "концепции" часто связаны с несколькими строительными блоками. Они могут включать в себя множество различных тем, таких как:

- логические модели данных
- потоки данных между системами
- правила использования конкретной технологии
- инфраструктурные варианты использования (логирование и трасиировка, авторизация, ауктентификация, хранение секретов, мониторинг, правила кеширования, политика установки обновлений, правила версионирования интерфейсов и правила обработки ошибок в интерфейсах) -->

### Логическая модель данных

![Модель данных](embed:datamodel)

|Сущность|Назначение|
---------|-----------
|Client|Клиент, которому выставляются счета|
|Invoice|Ежемесячный счет клиенту|
|Payment|Платеж по подписке|
|Usage|Информация о потреблении услуг|

### Авторизация и аутентификация

### Мониторинг
<!-- Необходимо учитывать что для постановки на мониторинг необходимо обеспечить наблюдаемость "Four Golden Signals" (Google SRE):

* Latency (Задержка) - необходимо отслеживать задержки, возникающие в системе, в различных её компонентах, при прохождении через неё операций. При расчёте задержек важно различать успешные и неуспешные запросы/операции. 
Примеры метрик: время загрузки формы заявки; время ответа при выполнении http-запроса к внешнему сервису по получению адресной информации.
* Traffic (Трафик) – данные о количественных показателях работы сервиса за интервал времени. Примеры метрик: количество запросов на подключение услуги в минуту; количество пользователей, обратившихся к сервису за последние 5 минут.
*Errors (Ошибки) - необходимо отслеживать ошибки, возникающие в системе, в различных её компонентах, при прохождении через неё операций. Рекомендована разбивка по кодам ошибок . Примеры метрик: количество ошибок при выполнении операции с кодом 401, количество ошибок при выполнении запроса с кодом 500.
* Saturation (Насыщенность) - необходимо отслеживать параметры, отвечающие за загруженность (насыщенность) системы. Отслеживание метрик загруженности системы позволяет заранее сигнализировать о приближении к пределу. Насыщение позволяет определить какая часть того или иного ресурса объекта мониторинга используется. Часто для определения насыщения ресурсов, имеющих чёткую общую ёмкость, используются процентные доли, но для ресурсов с менее чётко определённым максимумом могут потребоваться другие методы измерения. Данные насыщения предоставляют информацию о ресурсах, от которых зависит эффективность системы. Поскольку функциональность, предоставляемая одним объектом, может потребляться другим объектом, насыщение является одним из важнейших показателей для определения проблем с пропускной способностью. Таким образом, если известны ограничения системы, компонента, операции необходимо отслеживать процент/долю текущего использования.
  
подробнее: https://confluence.veon.com/pages/viewpage.action?pageId=349072501 -->

### Логгирование
### Политика кеширования клиентских данных